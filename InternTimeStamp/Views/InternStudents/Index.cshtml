@model global::InternTimeStamp.ViewModels.InternStudentList.IndexViewModels

@{
    ViewData["Title"] = "Internship Students";
    string[] TableHeaders = new string[] { "No.", "Name", "University", "Delete/Edit" };
}

<h1>
    @ViewData["Title"]
    <button type="button" name="add" id="addButton" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addModal">
        Add
    </button>
</h1>

<!-- addModal -->
<div class="modal fade" id="addModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true" data-backdrop="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">Add Internship Student</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form action="InternStudents" method="post">
                <br><label for="code">Name</label><br>
                <input type="text" name="Name" class="form-control" placeholder="Enter Student Name"><br>
                <label for="University_Code">University</label><br>
                <select class="form-select" id="universFrom">
                    @foreach (var item in Model.UniversityLists)
                    {
                        <option value="@item.Code">@item.UniversityName</option>
                    }
                </select>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" onclick="addIntern()" class="btn btn-primary" data-bs-dismiss="modal">Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- table -->
@{
    if (Model == null)
    {
        <h3 class="text-danger text-center mt-4">-No data-</h3>
    }
    else
    {
        <table class="table table-striped table-info mt-4">
            <tr>
                @{
                    foreach (var head in TableHeaders)
                    {
                        <th class="text-center">
                            @head
                        </th>
                    }
                }
            </tr>
            @{
                if (Model != null)
                {
                    int i = 1;
                    foreach (var Data in Model.InternStudentLists)
                    {
                        <tr>
                            <td class="text-center">@i</td>
                            <td>@Data.Name</td>
                            <td>@Data.University</td>
                            <td class="text-center">
                                <button type="button" name="edit" id="editButton" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal">Delete</button>
                                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#editModal">Edit</button>
                            </td>
                        </tr>
                        i++;
                    }
                }
            }
        </table>
    }
}
